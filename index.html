<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ°£è±¡æ³•ç¬¬21æ¢ä¹‹ä¸€ä¿®æ­£è‰æ¡ˆ äº’å‹•ç ”æå ±å‘Š</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        /* Chosen Palette: "Ocean Security & Legal Clarity"
           Background: #F8FAFC (Cool Grey/White)
           Primary Text: #1E293B (Slate 800)
           Accent 1 (Core/Ocean): #0EA5E9 (Sky 500) - For main headers and core concepts
           Accent 2 (Alert/Conflict): #F59E0B (Amber 500) - For legislative conflicts/alerts
           Accent 3 (Safe/Pass): #10B981 (Emerald 500) - For resolutions and consensus
           Neutral: #94A3B8 (Slate 400) - For secondary text
        */
        body {
            background-color: #F8FAFC;
            color: #1E293B;
            font-family: 'Noto Sans TC', system-ui, -apple-system, sans-serif;
            scroll-behavior: smooth;
        }

        .card-hover {
            transition: all 0.3s ease;
        }
        .card-hover:hover {
            transform: translateY(-4px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }

        /* Chart Container Styling - Mandatory Requirements */
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 300px; /* Base height */
            max-height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
            }
        }

        .filter-btn {
            transition: all 0.2s;
        }
        .active-filter {
            background-color: #0EA5E9;
            color: white;
            border-color: #0EA5E9;
            box-shadow: 0 4px 6px -1px rgba(14, 165, 233, 0.3);
        }
        .inactive-filter {
            background-color: white;
            color: #64748B;
            border-color: #E2E8F0;
        }
        .inactive-filter:hover {
            background-color: #F0F9FF;
            color: #0284C7;
            border-color: #BAE6FD;
        }

        /* Accordion Styling */
        .accordion-content {
            transition: max-height 0.3s ease-out, opacity 0.3s ease-out;
            max-height: 0;
            overflow: hidden;
            opacity: 0;
        }
        .accordion-content.open {
            max-height: 500px; /* Arbitrary large height */
            opacity: 1;
        }
        .accordion-icon {
            transition: transform 0.3s ease;
        }
        .accordion-btn[aria-expanded="true"] .accordion-icon {
            transform: rotate(180deg);
        }

        /* Process Flow styling */
        .step-circle {
            width: 3.5rem;
            height: 3.5rem;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            margin-bottom: 1rem;
            position: relative;
            z-index: 10;
        }
        .step-line {
            position: absolute;
            top: 1.75rem;
            left: 0;
            width: 100%;
            height: 4px;
            background-color: #E2E8F0;
            z-index: 0;
        }
    </style>
    <!-- Application Structure Plan:
         1. Header: Title and Quick Nav.
         2. Context Hero: Briefly explains the "Why" (Cable damage affecting earthquake warnings).
         3. Core Amendments (The "What"): 3 Cards explaining Negligence, Confiscation, Disposal.
         4. Interactive Conflict Analysis (The "Debate"):
            - Visual: Doughnut Chart showing the distribution of Legislator concerns.
            - Interaction: Filter buttons to show specific cards (Penalty, Jurisdiction, etc.).
            - Content: Comparison of Legislator Proposal vs. MOTC Response.
         5. Q&A Accordion (The "Details"): A dedicated section for the 9 specific QA points from the report.
         6. Process Visualization (The "How"): HTML Flowchart for the Confiscation mechanism.
         7. Footer.
    -->
    <!-- Visualization & Content Choices:
         - Chart.js for Proposal Categories: Helps users see where the main friction points are in the legislation.
         - Cards for Amendments: Clean, digestible chunks of legal text.
         - Accordion for Q&A: Efficiently packs detailed Q&A content without cluttering the page.
         - HTML Flowchart: Visualizes the complex "Confiscation -> Disposal" administrative process.
    -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
</head>
<body class="antialiased min-h-screen flex flex-col">

    <!-- Header -->
    <header class="bg-white border-b border-slate-200 sticky top-0 z-50 shadow-sm/50 backdrop-blur-sm bg-white/90">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-16 flex items-center justify-between">
            <div class="flex items-center gap-2">
                <span class="text-2xl">ğŸ“¡</span>
                <h1 class="text-lg sm:text-xl font-bold tracking-tight text-slate-800">
                    æ°£è±¡æ³•ä¿®æ­£æ¡ˆ <span class="text-sky-500">äº’å‹•ç ”æ</span>
                </h1>
            </div>
            <nav class="hidden md:flex space-x-8 text-sm font-medium text-slate-600">
                <a href="#core" class="hover:text-sky-600 transition">ä¿®æ³•æ ¸å¿ƒ</a>
                <a href="#analysis" class="hover:text-sky-600 transition">ææ¡ˆæ”»é˜²</a>
                <a href="#qa" class="hover:text-sky-600 transition">é—œéµ QA</a>
                <a href="#process" class="hover:text-sky-600 transition">è™•ç½®æµç¨‹</a>
            </nav>
        </div>
    </header>

    <main class="flex-grow p-4 sm:p-8 space-y-16 max-w-7xl mx-auto w-full">

        <!-- Hero Section -->
        <section class="text-center max-w-4xl mx-auto pt-4">
            <div class="inline-block bg-sky-50 text-sky-700 text-xs font-bold px-3 py-1 rounded-full mb-4 border border-sky-100">
                é—œéµåŸºç¤è¨­æ–½é˜²è­·
            </div>
            <h2 class="text-3xl sm:text-5xl font-extrabold text-slate-900 mb-6 tracking-tight">
                å®ˆè­·æ·±æµ·ç¥ç¶“ç¶²çµ¡
            </h2>
            <p class="text-lg text-slate-600 leading-relaxed max-w-2xl mx-auto">
                é‡å°è¿‘å¹´é•æ³•æŠ½ç ‚èˆ¹èˆ‡æ¬Šå®œè¼ªé »ç¹æå£æµ·çºœï¼Œåš´é‡å½±éŸ¿<strong>åœ°éœ‡èˆ‡æµ·å˜¯é è­¦</strong>æ™‚æ•ˆã€‚<br>
                æœ¬æ¬¡ä¿®æ³•å»ºç«‹ã€Œéå¤±åˆ‘è²¬ã€èˆ‡ã€Œçµ•å°æ²’æ”¶ã€æ©Ÿåˆ¶ï¼Œå¡«è£œæ³•å¾‹æ¼æ´ã€‚
            </p>
        </section>

        <!-- Section 1: Core Amendments (Executive Yuan Version) -->
        <section id="core" class="space-y-8">
            <div class="flex items-center gap-4 mb-2">
                <div class="h-8 w-1 bg-sky-500 rounded-full"></div>
                <h3 class="text-2xl font-bold text-slate-800">è¡Œæ”¿é™¢ç‰ˆä¿®æ³•ä¸‰å¤§æ ¸å¿ƒ</h3>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                <!-- Card 1 -->
                <div class="bg-white p-6 rounded-2xl border border-slate-200 card-hover flex flex-col relative overflow-hidden">
                    <div class="absolute top-0 right-0 p-4 opacity-10 text-6xl">âš ï¸</div>
                    <h4 class="text-lg font-bold text-slate-800 mb-2 z-10">1. æ–°å¢éå¤±ç½°å‰‡</h4>
                    <p class="text-sm text-slate-500 mb-4 flex-grow z-10">
                        æµ·çºœåœ–è³‡å·²å…¬é–‹ï¼Œèˆªè¡Œè€…æœ‰ç¾©å‹™é çŸ¥ã€‚é‡å°éæ•…æ„ä½†é€ æˆæå®³çš„ã€Œéå¤±ã€è¡Œç‚ºå¢è¨‚åˆ‘è²¬ã€‚
                    </p>
                    <div class="bg-sky-50 p-3 rounded-xl border border-sky-100 z-10">
                        <span class="text-xs font-bold text-sky-600 uppercase">ç½°å‰‡å…§å®¹</span>
                        <p class="text-sm font-medium text-sky-900 mt-1">6æœˆä»¥ä¸‹æœ‰æœŸå¾’åˆ‘ã€æ‹˜å½¹<br>æˆ–ç§‘ 200 è¬å…ƒä»¥ä¸‹ç½°é‡‘</p>
                    </div>
                </div>

                <!-- Card 2 -->
                <div class="bg-white p-6 rounded-2xl border border-slate-200 card-hover flex flex-col relative overflow-hidden">
                    <div class="absolute top-0 right-0 p-4 opacity-10 text-6xl">ğŸš¢</div>
                    <h4 class="text-lg font-bold text-slate-800 mb-2 z-10">2. çµ•å°æ²’æ”¶æ¢æ¬¾</h4>
                    <p class="text-sm text-slate-500 mb-4 flex-grow z-10">
                        ç ´è§£ã€Œæ¬Šå®œè¼ªã€æˆ–å€Ÿåç™»è¨˜å›°å¢ƒã€‚åªè¦æ˜¯ä¾›çŠ¯ç½ªä½¿ç”¨ä¹‹å·¥å…·ï¼Œä¸è«–èˆ¹ä¸»æ˜¯èª°ï¼Œä¸€å¾‹æ²’æ”¶ã€‚
                    </p>
                    <div class="bg-amber-50 p-3 rounded-xl border border-amber-100 z-10">
                        <span class="text-xs font-bold text-amber-600 uppercase">é—œéµæ¢æ–‡</span>
                        <p class="text-sm font-medium text-amber-900 mt-1">ã€Œä¸å•å±¬æ–¼çŠ¯ç½ªè¡Œç‚ºäººèˆ‡å¦ã€<br>å‡æ²’æ”¶ä¹‹</p>
                    </div>
                </div>

                <!-- Card 3 -->
                <div class="bg-white p-6 rounded-2xl border border-slate-200 card-hover flex flex-col relative overflow-hidden">
                    <div class="absolute top-0 right-0 p-4 opacity-10 text-6xl">ğŸ”¨</div>
                    <h4 class="text-lg font-bold text-slate-800 mb-2 z-10">3. å½ˆæ€§è™•ç½®æ©Ÿåˆ¶</h4>
                    <p class="text-sm text-slate-500 mb-4 flex-grow z-10">
                        è§£æ±ºå¤§å‹èˆ¹èˆ¶ä¿ç®¡å›°é›£æˆ–æ‹è³£æµæ¨™å•é¡Œã€‚æª¢å¯Ÿæ©Ÿé—œå¯è¦–æƒ…ç¯€å½ˆæ€§è™•ç†ï¼Œä¸å†å—é™å–®ä¸€ç¨‹åºã€‚
                    </p>
                    <div class="bg-emerald-50 p-3 rounded-xl border border-emerald-100 z-10">
                        <span class="text-xs font-bold text-emerald-600 uppercase">è™•ç½®æ–¹å¼</span>
                        <p class="text-sm font-medium text-emerald-900 mt-1">æ‹è³£ã€è®Šè³£ã€ç•™ä¾›å…¬ç”¨ã€<br>å»¢æ£„æˆ–å…¬ç›Šè™•ç½®</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section 2: Interactive Proposal Analysis -->
        <section id="analysis" class="space-y-8 bg-white rounded-3xl p-6 sm:p-10 shadow-sm border border-slate-200">
            <div class="flex flex-col sm:flex-row sm:items-center justify-between gap-4">
                <div>
                    <h3 class="text-2xl font-bold text-slate-800">ææ¡ˆæ”»é˜²ç„¦é»ç ”æ</h3>
                    <p class="text-slate-500 mt-2 text-sm">é»æ“Šä¸‹æ–¹ç¯©é¸å™¨ï¼ŒæŸ¥çœ‹ç«‹æ³•å§”å“¡ææ¡ˆèˆ‡äº¤é€šéƒ¨å›æ‡‰çš„è©³ç´°å°ç…§ã€‚</p>
                </div>
                <!-- Filter Buttons -->
                <div class="flex flex-wrap gap-2" id="filter-container">
                    <button onclick="filterContent('all')" class="filter-btn active-filter px-4 py-2 rounded-lg text-sm font-bold border">å…¨éƒ¨</button>
                    <button onclick="filterContent('money')" class="filter-btn inactive-filter px-4 py-2 rounded-lg text-sm font-medium border">ç½°å‰‡èˆ‡æ”¶ç›Š</button>
                    <button onclick="filterContent('liability')" class="filter-btn inactive-filter px-4 py-2 rounded-lg text-sm font-medium border">è²¬ä»»èˆ‡ç®¡è½„</button>
                    <button onclick="filterContent('other')" class="filter-btn inactive-filter px-4 py-2 rounded-lg text-sm font-medium border">å…¶ä»–è­°é¡Œ</button>
                </div>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-3 gap-8 items-start">
                <!-- Chart -->
                <div class="lg:col-span-1 bg-slate-50 p-6 rounded-2xl border border-slate-100">
                    <h4 class="text-sm font-bold text-slate-500 uppercase mb-4 text-center">çˆ­è­°è­°é¡Œåˆ†ä½ˆ</h4>
                    <div class="chart-container">
                        <canvas id="analysisChart"></canvas>
                    </div>
                    <p class="text-xs text-center text-slate-400 mt-4">åœ–è¡¨é¡¯ç¤ºå„é¡åˆ¥ææ¡ˆçš„æ•¸é‡ä½”æ¯”</p>
                </div>

                <!-- Cards Container -->
                <div class="lg:col-span-2 space-y-4" id="cards-container">
                    <!-- Cards injected via JS -->
                </div>
            </div>
        </section>

        <!-- Section 3: Q&A Accordion -->
        <section id="qa" class="max-w-4xl mx-auto space-y-6">
            <div class="text-center mb-8">
                <h3 class="text-2xl font-bold text-slate-800">é—œéµ QA æ‡¶äººåŒ…</h3>
                <p class="text-slate-500 mt-2">é‡å°ä¿®æ³•éç¨‹ä¸­çš„å¸¸è¦‹ç–‘å•ï¼Œäº¤é€šéƒ¨ä¹‹æ ¸å¿ƒå›æ‡‰æ•´ç†ã€‚</p>
            </div>

            <div class="space-y-3" id="qa-container">
                <!-- QA Items will be injected by JS for cleaner code -->
            </div>
        </section>

        <!-- Section 4: Confiscation Process Flow -->
        <section id="process" class="space-y-8 pt-8 border-t border-slate-200">
            <div class="text-center">
                <h3 class="text-2xl font-bold text-slate-800">æ²’æ”¶ç‰©è™•ç½®æ–°æµç¨‹</h3>
                <p class="text-slate-500 mt-2">æ–°æ³•è³¦äºˆåŸ·æ³•æ©Ÿé—œæ›´å¤§çš„å½ˆæ€§ï¼Œè§£æ±ºå¤§å‹èˆ¹èˆ¶ä¿ç®¡ä¸æ˜“çš„å•é¡Œ</p>
            </div>

            <div class="relative py-10 hidden md:block">
                <!-- Connecting Line -->
                <div class="step-line top-1/2 left-0 w-full transform -translate-y-1/2"></div>
                
                <div class="grid grid-cols-4 gap-4 relative z-10">
                    <!-- Step 1 -->
                    <div class="flex flex-col items-center">
                        <div class="w-16 h-16 bg-white border-4 border-red-200 text-red-500 rounded-full flex items-center justify-center text-2xl font-bold shadow-sm mb-4 z-20">1</div>
                        <h4 class="font-bold text-slate-800">æŸ¥ç²é•æ³•</h4>
                        <p class="text-xs text-center text-slate-500 mt-2 max-w-[120px]">æ•…æ„æˆ–éå¤±æå£<br>æ°£è±¡è§€æ¸¬è¨­æ–½</p>
                    </div>

                    <!-- Step 2 -->
                    <div class="flex flex-col items-center">
                        <div class="w-16 h-16 bg-white border-4 border-amber-200 text-amber-500 rounded-full flex items-center justify-center text-2xl font-bold shadow-sm mb-4 z-20">2</div>
                        <h4 class="font-bold text-slate-800">è£åˆ¤æ²’æ”¶</h4>
                        <p class="text-xs text-center text-slate-500 mt-2 max-w-[120px]">ä¸å•å±¬æ–¼è¡Œç‚ºäººèˆ‡å¦<br>ä¸€å¾‹æ²’æ”¶</p>
                    </div>

                    <!-- Step 3 -->
                    <div class="flex flex-col items-center">
                        <div class="w-16 h-16 bg-white border-4 border-sky-200 text-sky-500 rounded-full flex items-center justify-center text-2xl font-bold shadow-sm mb-4 z-20">3</div>
                        <h4 class="font-bold text-slate-800">å°ˆæ¡ˆè©•ä¼°</h4>
                        <p class="text-xs text-center text-slate-500 mt-2 max-w-[120px]">æª¢å¯Ÿæ©Ÿé—œè©•ä¼°<br>ä¿ç®¡æˆæœ¬èˆ‡åƒ¹å€¼</p>
                    </div>

                    <!-- Step 4 -->
                    <div class="flex flex-col items-center">
                        <div class="w-16 h-16 bg-white border-4 border-emerald-200 text-emerald-500 rounded-full flex items-center justify-center text-2xl font-bold shadow-sm mb-4 z-20">4</div>
                        <h4 class="font-bold text-slate-800">å¤šå…ƒè™•ç½®</h4>
                        <div class="flex flex-wrap justify-center gap-1 mt-2 max-w-[160px]">
                            <span class="text-[10px] bg-emerald-50 text-emerald-700 px-2 py-0.5 rounded border border-emerald-100">æ‹è³£</span>
                            <span class="text-[10px] bg-emerald-50 text-emerald-700 px-2 py-0.5 rounded border border-emerald-100">å…¬ç”¨</span>
                            <span class="text-[10px] bg-emerald-50 text-emerald-700 px-2 py-0.5 rounded border border-emerald-100">å»¢æ£„</span>
                            <span class="text-[10px] bg-emerald-50 text-emerald-700 px-2 py-0.5 rounded border border-emerald-100">å…¬ç›Š</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Mobile Flow -->
            <div class="md:hidden space-y-4 pl-4 border-l-2 border-slate-200 ml-4">
                <div class="relative pl-6">
                    <div class="absolute -left-[21px] top-0 w-10 h-10 bg-white border-4 border-red-200 text-red-500 rounded-full flex items-center justify-center font-bold text-sm">1</div>
                    <h4 class="font-bold text-slate-800">æŸ¥ç²é•æ³•</h4>
                    <p class="text-sm text-slate-500">æ•…æ„æˆ–éå¤±æå£è¨­æ–½</p>
                </div>
                <div class="relative pl-6 pt-4">
                    <div class="absolute -left-[21px] top-4 w-10 h-10 bg-white border-4 border-amber-200 text-amber-500 rounded-full flex items-center justify-center font-bold text-sm">2</div>
                    <h4 class="font-bold text-slate-800">è£åˆ¤æ²’æ”¶</h4>
                    <p class="text-sm text-slate-500">ä¸å•å±¬æ–¼è¡Œç‚ºäººèˆ‡å¦</p>
                </div>
                <div class="relative pl-6 pt-4">
                    <div class="absolute -left-[21px] top-4 w-10 h-10 bg-white border-4 border-sky-200 text-sky-500 rounded-full flex items-center justify-center font-bold text-sm">3</div>
                    <h4 class="font-bold text-slate-800">å°ˆæ¡ˆè©•ä¼°</h4>
                    <p class="text-sm text-slate-500">è©•ä¼°ä¿ç®¡æˆæœ¬èˆ‡åƒ¹å€¼</p>
                </div>
                <div class="relative pl-6 pt-4">
                    <div class="absolute -left-[21px] top-4 w-10 h-10 bg-white border-4 border-emerald-200 text-emerald-500 rounded-full flex items-center justify-center font-bold text-sm">4</div>
                    <h4 class="font-bold text-slate-800">å¤šå…ƒè™•ç½®</h4>
                    <p class="text-sm text-slate-500">æ‹è³£ã€å…¬ç”¨ã€å»¢æ£„æˆ–å…¬ç›Š</p>
                </div>
            </div>
        </section>

        <!-- Conclusion -->
        <section class="bg-slate-800 text-white rounded-3xl p-8 sm:p-12 text-center mt-8 shadow-xl">
            <h3 class="text-xl sm:text-2xl font-bold mb-4">ç ”æçµè«–</h3>
            <p class="max-w-3xl mx-auto text-slate-300 leading-relaxed mb-8">
                ç¶œåˆç ”æï¼Œå¤šæ•¸å§”å“¡ææ¡ˆå…§å®¹èˆ‡è¡Œæ”¿é™¢ç‰ˆæœ¬ç²¾ç¥ä¸€è‡´ã€‚äº¤é€šéƒ¨å»ºè­°<strong>ç¶­æŒè¡Œæ”¿é™¢ç‰ˆæœ¬</strong>ï¼Œ
                å› å…¶å·²è€ƒé‡è·¨éƒ¨æœƒæ³•è¦ä¸€è‡´æ€§ï¼ˆå¦‚èˆ‡ã€Šé›»ä¿¡ç®¡ç†æ³•ã€‹è¡¡å¹³ï¼‰ï¼Œä¸”ç¾è¡Œæ°‘åˆ‘æ³•é«”ç³»å·²æ¶µè“‹è²¬ä»»è¿½ç©¶èˆ‡ç®¡è½„æ¬Šå•é¡Œã€‚
            </p>
            <div class="inline-flex items-center bg-emerald-500 text-white px-8 py-4 rounded-full font-bold shadow-lg shadow-emerald-500/30 hover:bg-emerald-600 transition cursor-default">
                <span class="mr-2">âœ“</span> å»ºè­°é€šéï¼šè¡Œæ”¿é™¢ç‰ˆæœ¬
            </div>
        </section>

    </main>

    <footer class="bg-white border-t border-slate-200 mt-12 py-10">
        <div class="max-w-7xl mx-auto px-4 text-center text-slate-400 text-sm">
            <p class="font-medium">è³‡æ–™ä¾†æº</p>
            <p class="mt-1">äº¤é€šéƒ¨æ›¸é¢å ±å‘Šã€ç«‹æ³•é™¢æ³•åˆ¶å±€è©•ä¼°å ±å‘Šã€æ°£è±¡æ³•ç¬¬21æ¢ä¹‹1ä¿®æ­£è‰æ¡ˆç ”ææ„è¦‹</p>
            <p class="mt-4 text-xs opacity-70">Generated for Legislative Analysis</p>
        </div>
    </footer>

    <!-- JavaScript Logic -->
    <script>
        // Data Store: Proposals
        // Categories: money (ç½°å‰‡/æ”¶ç›Š), liability (è²¬ä»»/ç®¡è½„), other (å…¶ä»–)
        const conflictData = [
            {
                id: 'money',
                title: 'å¤§å¹…æé«˜ç½°é‡‘ä¸Šé™',
                proposer: 'ç¾…ç¾ç²ç­‰å§”å“¡',
                detail: 'å»ºè­°è‡´æ­»è€…æœ€é«˜ç½°1.5å„„å…ƒï¼Œä»¥ç”Ÿåš‡é˜»æ•ˆåŠ›ã€‚',
                response: 'è¡Œæ”¿é™¢ç‰ˆåˆ‘åº¦ç¶“è·¨éƒ¨æœƒè¨è«–ï¼Œéœ€ç¶­æŒèˆ‡ã€Šé›»ä¿¡ç®¡ç†æ³•ã€‹ç­‰æ³•è¦çš„ä¸€è‡´æ€§èˆ‡è¡¡å¹³æ€§ï¼Œé¿å…å¤±è¡¡ã€‚',
                status: 'pass' // pass = maintain exec version
            },
            {
                id: 'money',
                title: 'æ²’æ”¶çŠ¯ç½ªèˆªæ¬¡å…¨éƒ¨æ”¶ç›Š',
                proposer: 'é»ƒæ·ç­‰å§”å“¡',
                detail: 'å»ºè­°æ²’æ”¶åŒ…å«æ¼ç²ã€ç›œç ‚ç­‰ä¸æ³•åˆ©ç›Šã€‚',
                response: 'ç•¶æ¬¡æ”¶ç›Šé›£ä»¥ç¢ºèªä¸”å°è±¡éæœ¬åœ‹äººåŸ·è¡Œå›°é›£ã€‚ã€Šåˆ‘æ³•ã€‹å·²æœ‰æ²’æ”¶çŠ¯ç½ªæ‰€å¾—è¦å®šï¼Œä¸éœ€é‡è¤‡ã€‚',
                status: 'pass'
            },
            {
                id: 'liability',
                title: 'æ˜å®šæ°‘äº‹è²¬ä»»',
                proposer: 'é‚±é®è»ã€ç¾…å»·ç‘‹ç­‰å§”å“¡',
                detail: 'å¢è¨‚ã€Œè‡ªè² æ°‘äº‹è²¬ä»»ã€æˆ–ã€Œé€£å¸¶è² æ°‘äº‹è²¬ä»»ã€ã€‚',
                response: 'ã€Šæ°‘æ³•ã€‹å·²å¯è«‹æ±‚æå®³è³ å„Ÿã€‚å¯¦å‹™ä¸Šå·²æœ‰é€éæ°‘äº‹è¨´è¨Ÿç²è³ æ¡ˆä¾‹ï¼ˆå¦‚ç…å­å±±ç±æ²¹è¼ªæ¡ˆï¼‰ã€‚',
                status: 'pass'
            },
            {
                id: 'liability',
                title: 'å¢è¨‚åŸŸå¤–ç®¡è½„',
                proposer: 'é‚±é®è»å§”å“¡',
                detail: 'å¢è¨‚ã€Œä¸­è¯æ°‘åœ‹é ˜åŸŸå¤–ã€é©ç”¨è¦å®šã€‚',
                response: 'æµ·çºœå—æçµæœåœ¨å¢ƒå…§ï¼Œå±¬ã€Šåˆ‘æ³•ã€‹ç¬¬4æ¢ã€Œéš”åœ°çŠ¯ã€ï¼Œæˆ‘åœ‹æœ¬æœ‰ç®¡è½„æ¬Šï¼Œä¸éœ€å¢è¨‚ã€‚',
                status: 'pass'
            },
            {
                id: 'liability',
                title: 'ç·Šæ€¥é¿é›£å…è²¬',
                proposer: 'é‚±é®è»å§”å“¡',
                detail: 'å¢è¨‚ç·Šæ€¥é¿é›£ã€åœ‹é˜²å®‰å…¨ç­‰å…è²¬æ¢æ¬¾ã€‚',
                response: 'ã€Šåˆ‘æ³•ã€‹ç¬¬24æ¢å·²æœ‰é‡å°ç·Šæ€¥é¿é›£ä¹‹å…è²¬è¦å®šï¼Œç„¡é ˆé‡è¤‡ç«‹æ³•ã€‚',
                status: 'pass'
            },
            {
                id: 'other',
                title: 'æ·¨é›¶æ’æ”¾/å…’å°‘æŒ‡æ¨™',
                proposer: 'å¼µé›…ç³ç­‰å§”å“¡',
                detail: 'ç´å…¥ã€Œæ·¨é›¶æ’æ”¾ã€æˆ–ã€Œå…’å°‘æ°£å€™é¢¨éšªæŒ‡æ¨™ã€ã€‚',
                response: 'èˆ‡æ°£è±¡æ³•ç«‹æ³•ç›®çš„ä¸åŒï¼Œä¸”ã€Šæ°£å€™è®Šé·å› æ‡‰æ³•ã€‹å·²æœ‰è¦ç¯„ã€‚',
                status: 'reject' // reject = do not adopt
            },
            {
                id: 'other',
                title: 'æ‹è³£å» å•†è³‡æ ¼é™åˆ¶',
                proposer: 'é‚±é®è»å§”å“¡',
                detail: 'æ‹è³£æ‡‰è¨­å®šè³‡æ ¼é™åˆ¶ï¼Œé˜²æ­¢åŸèˆ¹æ±è²·å›ã€‚',
                response: 'ã€Šå¼·åˆ¶åŸ·è¡Œæ³•ã€‹ç¬¬64æ¢å·²è¦å®šæ‹è³£å…¬å‘Šå¯è¼‰æ˜è³‡æ ¼æ¢ä»¶ï¼Œç„¡é ˆå¦è¨‚ã€‚',
                status: 'pass'
            }
        ];

        // Data Store: Q&A
        const qaData = [
            {
                q: "ç‚ºä»€éº¼è¦è™•ç½°ã€Œéå¤±ã€æ¯€å£æµ·çºœçš„è¡Œç‚ºï¼Ÿ",
                a: "æµ·çºœåœ–è³‡å·²åœ¨åœ‹å®¶æµ·æ´‹è³‡æ–™åº«å…¬é–‹ï¼Œèˆªè¡Œè€…æ‡‰å¯é çŸ¥ä¸¦é¿å…ç¢°æ’ã€‚æ­¤è¦å®šæ¯”ç…§ã€Šé›»ä¿¡ç®¡ç†æ³•ã€‹è¦ç¯„ï¼Œå¼·åŒ–ä¿è­·ã€‚"
            },
            {
                q: "ç‚ºä»€éº¼ä¸å¤§å¹…æé«˜ç½°é‡‘ï¼ˆå¦‚1.5å„„ï¼‰ï¼Ÿ",
                a: "è¡Œæ”¿é™¢ç‰ˆåˆ‘åº¦ç¶“è·¨éƒ¨æœƒè¨è«–ï¼Œéœ€ç¢ºä¿èˆ‡å…¶ä»–æ³•è¦ï¼ˆå¦‚ã€Šé›»ä¿¡ç®¡ç†æ³•ã€‹ï¼‰çš„ä¸€è‡´æ€§èˆ‡è¡¡å¹³æ€§ã€‚"
            },
            {
                q: "ç‚ºä½•ä¸æ˜å®šã€Œæ°‘äº‹è²¬ä»»ã€ï¼Ÿ",
                a: "ã€Šæ°‘æ³•ã€‹å·²å¯è«‹æ±‚æå®³è³ å„Ÿï¼Œç„¡é ˆç–ŠåºŠæ¶å±‹ã€‚å¯¦å‹™ä¸Šå·²æœ‰æˆåŠŸç²è³ æ¡ˆä¾‹ã€‚"
            },
            {
                q: "å…¬æµ·ç ´å£æµ·çºœæœ‰ç®¡è½„æ¬Šå—ï¼Ÿ",
                a: "æœ‰ã€‚é›–ç„¶è¡Œç‚ºåœ¨å¢ƒå¤–ï¼Œä½†çµæœç™¼ç”Ÿåœ¨å¢ƒå…§ï¼Œä¾ã€Šåˆ‘æ³•ã€‹ç¬¬4æ¢ã€Œéš”åœ°çŠ¯ã€è¦å®šï¼Œæˆ‘åœ‹æ“æœ‰ç®¡è½„æ¬Šã€‚"
            },
            {
                q: "éœ€è¦å¢è¨‚ã€Œç·Šæ€¥é¿é›£ã€å…è²¬å—ï¼Ÿ",
                a: "ä¸éœ€è¦ã€‚ã€Šåˆ‘æ³•ã€‹ç¬¬24æ¢å·²æœ‰ç›¸é—œå…è²¬è¦å®šã€‚"
            },
            {
                q: "ç‚ºä½•ã€Œä¸å•å±¬æ–¼çŠ¯ç½ªè¡Œç‚ºäººèˆ‡å¦ã€éƒ½è¦æ²’æ”¶ï¼Ÿ",
                a: "ç‚ºäº†çªç ´æ¬Šå®œè¼ªæˆ–å€Ÿåç™»è¨˜çš„åŸ·æ³•å›°å¢ƒï¼Œé˜²æ­¢è¡Œç‚ºäººåˆ©ç”¨ç”¢æ¬Šè¤‡é›œçµæ§‹è¦é¿è™•ç½°ã€‚"
            },
            {
                q: "ç‚ºä½•ä¸æ²’æ”¶ã€Œå…¨éƒ¨æ”¶ç›Šã€ï¼Ÿ",
                a: "åŸ·è¡Œå›°é›£ï¼ˆæ•¸é¡é›£èªã€å°è±¡é›£è¿½ï¼‰ï¼Œä¸”ã€Šåˆ‘æ³•ã€‹å·²æœ‰æ²’æ”¶çŠ¯ç½ªæ‰€å¾—è¦å®šã€‚"
            },
             {
                q: "æ²’æ”¶çš„èˆ¹è³£ä¸æ‰æ€éº¼è¾¦ï¼Ÿ",
                a: "æ–°æ³•å»ºç«‹å½ˆæ€§è™•ç½®æ©Ÿåˆ¶ï¼šå¯æ‹è³£ã€è®Šè³£ã€ç•™ä¾›å…¬ç”¨ã€å»¢æ£„æˆ–ä½œå…¬ç›Šè™•ç½®ã€‚"
            },
             {
                q: "æ˜¯å¦ç´å…¥ã€Œæ·¨é›¶æ’æ”¾ã€æ¢æ¬¾ï¼Ÿ",
                a: "ä¸äºˆæ¡ç´ã€‚æ‡‰å›æ­¸ã€Šæ°£å€™è®Šé·å› æ‡‰æ³•ã€‹ï¼Œé¿å…æ³•è¦ç›®çš„æ··æ·†ã€‚"
            }
        ];

        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            renderChart();
            filterContent('all');
            renderQA();
        });

        // Chart Rendering
        function renderChart() {
            const ctx = document.getElementById('analysisChart').getContext('2d');
            
            // Count categories
            const counts = { money: 0, liability: 0, other: 0 };
            conflictData.forEach(item => {
                if(counts[item.id] !== undefined) counts[item.id]++;
            });

            new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: ['ç½°å‰‡èˆ‡æ”¶ç›Š', 'è²¬ä»»èˆ‡ç®¡è½„', 'å…¶ä»–è­°é¡Œ'],
                    datasets: [{
                        data: [counts.money, counts.liability, counts.other],
                        backgroundColor: ['#F59E0B', '#0EA5E9', '#94A3B8'],
                        borderWidth: 0,
                        hoverOffset: 10
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { position: 'bottom', labels: { usePointStyle: true, padding: 20 } },
                        tooltip: { 
                            callbacks: {
                                label: (ctx) => ` ${ctx.label}: ${ctx.raw} é …ææ¡ˆ`
                            }
                        }
                    },
                    onClick: (e, elements) => {
                        if (elements.length > 0) {
                            const map = ['money', 'liability', 'other'];
                            filterContent(map[elements[0].index]);
                        } else {
                            filterContent('all');
                        }
                    }
                }
            });
        }

        // Filter Logic
        function filterContent(category) {
            // Update Buttons
            document.querySelectorAll('.filter-btn').forEach(btn => {
                const onclick = btn.getAttribute('onclick');
                if(onclick.includes(`'${category}'`)) {
                    btn.classList.remove('inactive-filter');
                    btn.classList.add('active-filter');
                } else {
                    btn.classList.add('inactive-filter');
                    btn.classList.remove('active-filter');
                }
            });

            // Update Cards
            const container = document.getElementById('cards-container');
            container.innerHTML = '';
            
            const filtered = category === 'all' ? conflictData : conflictData.filter(d => d.id === category);

            filtered.forEach(item => {
                const isPass = item.status === 'pass';
                const statusBadge = isPass 
                    ? `<span class="bg-emerald-100 text-emerald-800 text-xs px-2 py-1 rounded-full font-bold">ç¶­æŒé™¢ç‰ˆ</span>`
                    : `<span class="bg-slate-100 text-slate-600 text-xs px-2 py-1 rounded-full font-bold">ä¸äºˆæ¡ç´</span>`;
                
                const borderClass = item.id === 'money' ? 'border-l-amber-500' : (item.id === 'liability' ? 'border-l-sky-500' : 'border-l-slate-400');

                const card = document.createElement('div');
                card.className = `bg-white p-5 rounded-xl border border-slate-200 border-l-4 ${borderClass} shadow-sm hover:shadow-md transition-shadow`;
                card.innerHTML = `
                    <div class="flex justify-between items-start mb-3">
                        <div>
                            <span class="text-xs text-slate-400 font-bold uppercase">${item.proposer}</span>
                            <h5 class="text-lg font-bold text-slate-800">${item.title}</h5>
                        </div>
                        ${statusBadge}
                    </div>
                    <div class="space-y-3">
                        <div>
                            <p class="text-xs font-bold text-slate-500 mb-1">ææ¡ˆä¸»å¼µ</p>
                            <p class="text-sm text-slate-700">${item.detail}</p>
                        </div>
                        <div class="bg-slate-50 p-3 rounded-lg">
                            <p class="text-xs font-bold text-sky-600 mb-1">äº¤é€šéƒ¨å›æ‡‰</p>
                            <p class="text-sm text-slate-600">${item.response}</p>
                        </div>
                    </div>
                `;
                container.appendChild(card);
            });
        }

        // Q&A Rendering
        function renderQA() {
            const container = document.getElementById('qa-container');
            
            qaData.forEach((item, index) => {
                const div = document.createElement('div');
                div.className = 'border border-slate-200 rounded-lg bg-white overflow-hidden';
                div.innerHTML = `
                    <button class="accordion-btn w-full px-6 py-4 text-left flex justify-between items-center focus:outline-none hover:bg-slate-50 transition-colors" onclick="toggleAccordion(${index})" aria-expanded="false">
                        <span class="font-bold text-slate-800 pr-4"><span class="text-sky-500 mr-2">Q${index+1}</span>${item.q}</span>
                        <span class="accordion-icon text-slate-400">â–¼</span>
                    </button>
                    <div id="qa-content-${index}" class="accordion-content bg-slate-50">
                        <div class="px-6 py-4 text-sm text-slate-600 border-t border-slate-100">
                            ${item.a}
                        </div>
                    </div>
                `;
                container.appendChild(div);
            });
        }

        function toggleAccordion(index) {
            const content = document.getElementById(`qa-content-${index}`);
            const btn = content.previousElementSibling;
            const isOpen = content.classList.contains('open');
            
            // Close all others (optional, but cleaner)
            document.querySelectorAll('.accordion-content').forEach(el => {
                el.classList.remove('open');
                el.previousElementSibling.setAttribute('aria-expanded', 'false');
            });

            if (!isOpen) {
                content.classList.add('open');
                btn.setAttribute('aria-expanded', 'true');
            }
        }
    </script>
</body>
</html>